import { images } from '@assets/images';
import languages from './i18n';
import { LanguageSystem, LazyLoadingImage, PaginatedItems } from '@components';
import { ROUTE_PATH } from '@constants';
import { SvgIcon } from '@helpers';
import { useI18n, useSearchParamsHook } from '@hooks';
import { Link } from 'react-router-dom';
import { useQuery } from '@tanstack/react-query';
import { serviceApi } from '@configs';
import BookingGiude from './component/booking-giude';

export interface GuidItem {
   fullName: string;
   id: string;
   imageURL: string;
   languages: string;
   rating: number;
   status: string;
   totalTour: number;
}

export const Guide = () => {
   const translate = useI18n(languages);
   const { searchParams } = useSearchParamsHook();

   const { data } = useQuery(['getGuildPagination', searchParams['page']], async () => {
      const page = searchParams['page'] ? String(searchParams['page']) : '1';

      const res = await serviceApi.request.get('guides-pagination?pageNumber=' + page);
      return res.data;
   });

   return (
      <div className="bg-[#f0d171]">
         <div className="-mt-[58px] relative mb-20">
            <LazyLoadingImage src={images.guideBanner} />
            <div className="absolute bottom-0 left-1/2 -translate-x-[50%] translate-y-[50%] bg-white rounded-2xl  pl-8 ">
               <div className="grid grid-cols-3 ">
                  <div className="col-span-1 flex gap-4 border border-transparent border-r border-r-[#00000033] py-4 pr-8">
                     <SvgIcon name="destination" />
                     <div className="w-[200px]">
                        <p className="text-[#6D1950]  text-2xl font-bold ">{translate('Destinations')}</p>
                        <select name="" id="" className="mt-2 w-full">
                           <option value="">District 9</option>
                        </select>
                     </div>
                  </div>
                  <div className="col-span-2 flex gap-4 pl-4 ">
                     <div className="flex-1 flex py-4 ">
                        <SvgIcon name="language" width={63} />
                        <div className="">
                           <p className="text-[#6D1950]  text-2xl font-bold">{translate('Language')}</p>
                           <div className="mt-2 flex justify-end">
                              <LanguageSystem />
                           </div>
                        </div>
                     </div>
                     <div className="bg-[#78B28D] flex flex-col items-center justify-center rounded-2xl px-8">
                        <svg width="63" height="75" viewBox="0 0 99 75" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <g clip-path="url(#clip0_1_7091)">
                              <path
                                 d="M17.8073 40.8071C17.6324 42.0322 17.3674 44.0252 17.1925 45.2503C17.1925 44.9329 17.0759 44.8313 17.1342 45.6692C16.8427 45.3201 16.7261 45.5295 16.6996 45.8469C12.7195 48.7476 10.3028 47.0339 7.55747 51.8959C6.70951 53.8572 6.74131 55.6726 6.06823 53.889C5.60185 53.4002 5.13547 55.7424 6.41802 57.526C6.68301 58.1925 7.73237 59.2778 9.37 60.0078C9.53584 60.344 9.65404 60.7107 9.71979 61.0932C9.82569 60.853 9.94246 60.6199 10.0696 60.395C9.68799 58.8907 11.209 60.4648 11.7602 61.4423C12.6983 61.6898 12.958 61.7216 12.4068 63.8543C11.5005 64.6604 12.0252 67.1104 10.4777 64.9397C6.56641 61.8993 3.78933 61.1313 2.33189 56.9992C2.33189 56.9992 2.33189 56.9992 2.30009 56.9293H2.33189C2.28065 55.9168 2.28065 54.9015 2.33189 53.889V53.8191C2.68167 48.608 6.39152 47.8336 8.52204 46.1579C10.112 45.9802 12.5817 42.6923 14.9454 41.8227C15.4704 41.5982 16.0367 41.55 16.583 41.6831C17.1342 41.0547 17.5741 41.1245 17.8073 40.8071Z"
                                 fill="#BD4545"
                              />
                              <path
                                 d="M83.7365 47.605C83.4026 49.2299 82.9203 48.957 83.498 46.6465C83.3125 48.1509 83.7683 48.1509 83.8001 46.6085C83.71 46.6465 83.6199 46.5259 83.6199 46.1451L83.3125 40.8641C83.2224 41.0926 83.1005 41.0546 82.8567 39.7787C83.0104 34.5359 80.9117 30.8925 80.0002 26.7477C80.2704 26.2462 78.2035 22.203 77.5676 24.8435C76.656 22.1014 76.9899 27.3062 76.6825 25.8083C75.4688 26.8112 75.7126 26.5382 76.7461 28.271C76.0783 29.2739 77.6894 29.5405 77.1701 29.7754C78.5374 36.256 79.5709 40.2611 79.5444 40.7245C79.4225 41.575 78.8448 44.0822 78.8713 42.8445C78.813 42.8064 78.7812 42.616 78.813 42.2669C78.4791 42.9651 76.6931 42.616 75.8928 43.2698C69.9942 42.3431 63.6079 47.2051 56.3419 45.8912C48.4346 45.3517 40.8983 47.5479 34.4167 45.2565C29.0904 46.088 25.0732 42.4637 21.6071 42.6541C20.3617 41.2259 19.7257 41.264 19.4872 41.4227C19.7734 40.8639 19.9761 40.2496 20.0861 39.6074C21.7608 28.563 24.5273 24.6467 26.6578 18.9024C30.8976 11.0761 33.8019 7.18523 39.1229 8.30236C41.0096 8.22619 41.9795 6.72187 43.0765 7.80092C43.7125 9.19098 44.2319 5.40798 45.419 7.57241C46.0232 9.47661 47.6079 7.68667 47.1786 6.10618C47.6079 6.6457 49.3409 4.67803 49.7066 4.44953C51.6198 2.13276 51.0103 7.80092 52.2876 6.14427C52.3194 6.6457 52.8176 9.57182 53.9623 7.57241C53.9623 7.839 54.6301 9.47661 55.8755 7.72475C56.2094 6.98846 57.2164 7.87708 58.0961 7.95325C64.4559 10.1113 68.436 13.8182 71.3456 16.5539C71.4357 16.8586 72.6812 21.2953 73.9584 20.997C74.022 24.9324 75.9988 24.1199 76.4228 22.5394C76.735 21.9892 77.0097 21.4097 77.2443 20.8066C77.292 20.7787 77.3449 20.7656 77.398 20.7685C77.1807 20.7304 76.8203 20.4575 76.8203 19.0738V18.6104C76.7567 18.5342 76.7249 18.4962 76.6984 18.5342C76.7035 18.4541 76.6926 18.3736 76.6666 18.2994C77.0641 16.0651 75.3575 17.1061 75.543 16.1794C72.7447 13.596 70.5559 6.23313 66.2949 5.96654C63.8623 3.68785 60.126 2.2597 56.6281 3.34509C56.4479 1.02832 54.1372 0.806165 54.2856 2.22162C52.9288 0.86329 51.9378 1.6694 49.643 0.0889167C47.6079 -0.139587 46.9931 -0.101503 45.0534 2.40569C44.5658 4.36701 43.8079 4.56378 43.5005 4.06234C43.5906 4.90654 43.3468 5.49049 42.7427 3.42761C41.4336 3.54186 40.6757 5.62378 40.5538 3.65611C35.5667 4.65899 32.0371 6.19504 28.6028 9.67338C26.1384 15.9001 22.6724 17.982 21.093 22.1459C19.7522 24.6467 17.5634 33.1331 16.8055 38.084C16.7419 38.4712 16.6836 38.8584 16.6518 39.2392V39.7407C16.6782 40.0004 16.6235 40.2626 16.4981 40.477C16.3179 41.8226 16.0423 44.0251 15.8621 45.3707V45.4088C15.9204 45.7579 15.9204 46.2213 15.7985 46.1832C15.984 48.3032 16.4398 49.8075 15.5866 49.5727C15.5826 49.7044 15.563 49.8348 15.5283 49.9599C15.9204 53.8127 16.408 52.7717 17.0175 53.8508C16.8055 55.4376 19.1374 56.8213 19.0261 55.2027C19.784 57.8623 21.1831 57.2085 23.7376 56.8594C31.9152 58.9413 40.4585 61.6389 47.0567 59.4808C50.5863 57.748 56.5168 60.7503 60.1048 59.1C65.2138 58.4653 70.6566 60.6424 74.7905 57.0942C77.6788 54.0856 80.0902 57.729 81.5424 54.5553C83.5192 53.0129 84.399 54.13 83.8531 49.0395C84.3089 47.3194 83.6994 47.3194 83.7365 47.605ZM79.6345 50.7787C77.9597 51.972 75.5006 52.3591 73.2164 52.9368C68.0491 54.1681 62.85 54.2062 58.8646 54.7457C57.3171 55.0948 55.6105 54.7457 54.5771 54.8663C52.33 55.0948 51.6622 54.9806 49.7755 55.0568C42.1438 55.2091 34.9361 54.7838 28.3961 53.4001C25.5714 52.5115 23.0169 52.5877 20.0649 50.9691C19.8264 50.4676 18.7611 50.0424 19.0632 48.9633C19.6727 49.1982 19.0632 48.5 19.0632 48.7729C18.9648 48.4188 18.9385 48.0417 18.9864 47.6729C19.0343 47.3041 19.1552 46.9544 19.3388 46.6529C18.8088 46.6148 19.0049 46.4942 19.519 46.5767C19.519 46.6529 20.7962 46.7672 21.0082 46.9957C21.2202 47.2242 21.4375 47.3067 21.0983 46.9957C24.8635 48.4951 28.7916 49.327 32.7579 49.4648C40.3896 50.1566 46.3783 50.8548 52.7645 50.4296C61.3078 50.201 67.6304 49.6171 74.5679 48.0747C75.9034 47.44 77.4563 47.44 79.6133 46.4561C79.6716 46.418 79.7034 46.418 79.7352 46.4561C79.906 46.5499 80.0606 46.6812 80.1909 46.8433C79.6133 47.2686 79.8889 48.5381 80.281 49.0395C80.4665 48.7729 80.9223 49.8139 80.3446 49.7758C80.811 50.2074 79.8995 50.328 79.6557 50.8294L79.6345 50.7787ZM83.3443 40.7499L83.7365 40.4833C83.5457 39.7216 83.4874 40.4198 83.3655 40.8007L83.3443 40.7499ZM83.8319 46.2657C83.8388 46.3709 83.828 46.4767 83.8001 46.5767C83.8317 46.5509 83.8544 46.5123 83.8642 46.468C83.8739 46.4237 83.87 46.3766 83.8531 46.3355L83.8319 46.2657ZM78.9667 42.1907C78.9349 42.5017 78.9031 42.6922 78.9031 42.8255C79.0462 43.1174 79.5921 41.1117 78.9667 42.1907ZM49.7066 4.44318C50.2843 6.09983 50.4326 3.80845 49.7066 4.44318V4.44318ZM15.5283 49.5917H15.5866C15.7084 48.2397 14.9188 47.605 15.5283 49.5917ZM15.3693 46.0436C15.3428 46.6783 15.5866 47.624 15.5548 45.9293C15.4647 45.9674 15.4064 46.0436 15.3693 46.0436ZM0.323166 58.3066C-0.28631 60.2743 0.111174 58.5351 0.323166 58.3066V58.3066Z"
                                 fill="#6D1950"
                              />
                              <path
                                 d="M97.4736 61.7406C95.4067 64.7048 93.5518 66.5201 91.241 66.8185C85.4908 67.6309 79.8995 73.0261 76.3116 71.9471C69.5914 71.1791 63.449 76.6885 55.2979 74.486C54.4656 73.7384 53.4493 73.3439 52.4091 73.3646C51.3689 73.3852 50.364 73.82 49.5529 74.6003C44.2001 73.4451 41.0362 75.7555 35.0792 73.8703C28.3273 72.4803 22.0364 70.3983 15.2845 69.8207C13.0957 70.2841 12.6346 66.1202 13.1646 66.8502C13.4402 66.6598 16.4505 67.6246 16.0848 65.5807C21.0083 69.0527 26.6049 71.3631 34.6605 69.3891C41.1687 69.8525 48.4983 68.2339 56.5539 70.0239C67.1959 67.7896 76.1631 66.2155 85.1092 64.946C87.4464 63.8289 90.0327 64.2097 93.5305 60.3188C93.7783 58.9143 94.3471 57.6199 95.1735 56.5802C94.8078 55.3806 94.6435 52.2577 93.9227 53.1463C91.0343 49.3379 88.2679 46.4753 85.6551 45.9738C85.054 45.8215 84.433 45.8215 83.8319 45.9738V46.3356L83.6199 46.1833L83.3126 40.9023V40.8579L83.3444 40.8198L83.7365 40.5532C83.7683 40.7056 83.8319 40.9404 83.8902 41.2832C84.4202 41.7846 85.0456 42.286 85.6551 42.7875C88.6335 45.1804 92.1897 47.3385 94.4421 47.9923C96.562 49.998 96.085 52.5814 97.7863 52.08C99.1059 54.1809 99.7843 57.3038 97.4736 61.7406Z"
                                 fill="#BD4545"
                              />
                           </g>
                           <defs>
                              <clipPath id="clip0_1_7091">
                                 <rect width="99" height="75" fill="white" />
                              </clipPath>
                           </defs>
                        </svg>

                        <p className="text-[#6D1950] font-bold">Find Guide</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div className="container px-3 py-4 bg-[#FDF9ED] rounded-2xl ">
            <h3 className="text-[#BD4545] text-3xl font-bold text-center py-3">Guides</h3>
            <div className="">
               <div className="grid grid-cols-4 gap-2">
                  {data &&
                     data?.items?.map((item: GuidItem) => {
                        return (
                           <div className="col-span-1 bg-[#F0D171] py-4 rounded-2xl" key={item.id}>
                              <div className="flex items-center flex-col justify-center">
                                 <LazyLoadingImage
                                    src={item.imageURL || images.noImage}
                                    width="100px"
                                    className="rounded-full"
                                 />
                                 <p className="mt-2 text-[#6D1950] font-bold">{item.fullName}</p>
                                 <p className="mt-2 text-[#BD4545] text-sm">ID: {item.id}</p>
                                 <Link
                                    to={ROUTE_PATH.CLIENT_GUIDE + '/' + item.id}
                                    className="bg-[#BD4545] text-white px-4 py-2 rounded-xl font-bold text-sm mt-2"
                                 >
                                    View Profile
                                 </Link>
                              </div>
                           </div>
                        );
                     })}
               </div>
               <div className="mt-10 flex items-center justify-center">
                  <PaginatedItems total_page={data?.totalPagesCount || 1} />
               </div>
            </div>
         </div>
         <div className="my-10 pb-10 container  min-h-[700px] pl-20">
            <div className="grid grid-cols-2">
               <div className="col-span-1">
                  <BookingGiude guides={data} />
               </div>
               <div className="col-span-1 relative">
                  <div className="absolute w-[570px] h-[800px] -translate-y-[50%] top-[50%] rounded-b-[45%] right-[-30%] rotate-[90deg] bg-[#BD4545]"></div>
                  {/* <div className="absolute top-[-16%] right-[-40%] w-[1067px] h-[573px]">
                     <LazyLoadingImage src="https://s3-alpha-sig.figma.com/img/5677/57fe/4599a1f72ea167700222b38f1fb58b99?Expires=1717372800&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=O~oWsfrIyXbYgY5PZuwUSuaaTDWWswLjqPs2QeHGcJYR8YMei2vven1hjFzTNMnBmyGDzypqauH5oNzkz3OOUiqZzSUJkA2BEgjutOKQg5q88DCWMlnG8VvLonrAw9cFOfGlGmXPFHyfh4ZgsF7Sbot~P9npxsIW3XRWQyL5889VlQmxFyQGof~AFYxmkAjz0CIkaMXs8PBHiGe4IPHDKVpTRy1uxOMCin8NPqysaqZ-qtvpDySLW4SCkercLP-NIBdGvJYhiR0NId-ggRPAZ3LSl4gc1cEefLkLGjiXJ4qRXUyw8DE1RjKxWqQiw~cSkXcfxPdBaxvxiQpBEL31pw__" />
                  </div> */}
               </div>
            </div>
         </div>
      </div>
   );
};
